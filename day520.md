## day517 ##
1：上午
	
- PHP引用变量的概念及定义方式
- range函数：可以帮助我们创建一个0到1000的元素数组
- COW机制
- &符的运用
- xdebug_debug_zval() 本地需要安装xdebug扩展  linux不用

2：下午

- token和session其实都是为了身份验证，session一般翻译为会话，而token更多的时候是翻译为令牌；
- session服务器会保存一份，可能保存到缓存，文件，数据库；同样，session和token都是有过期时间一说，都需要去管理过期时间；
- 其实token与session的问题是一种时间与空间的博弈问题，session是空间换时间，而token是时间换空间。两者的选择要看具体情况而定。
- http 与 https的区别：1)https协议需要到ca申请证书，一般免费证书较少，因而需要一定费用。
2)http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。
3)http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。
4)http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行    加密传输、身份认证的网络协议，比http协议安全。
- cookie与session的区别：1)cookie数据存放在客户的浏览器上，session数据放在服务器上。
2)cookie不是很安全，别人可以分析存放在本地的COOKIE并进行COOKIE欺骗，考虑到安全应当使用session。
3)session会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能，考虑到减轻服务器性能方面，应当使用COOKIE。
4)单个cookie保存的数据不能超过4K，很多浏览器都限制一个站点最多保存20个cookie。
5)所以个人建议：
* 将登陆信息等重要信息存放为SESSION
* 其他信息如果需要保留，可以放在COOKIE中
- Replication + Sentinel：一个mater，多个slave，要几个slave跟你的要求的读吞吐量有关系，结合 sentinal 集群，去保证 redis 主从架构的高可用性，就可以了。
- Redis Cluster：主要是针对海量数据+高并发+高可用的场景，海量数据，如果你的数据量很大，那么建议就用redis cluster。
- redis哨兵：
1)监控：Sentinel会定期检测Redis数据节点、其余Sentinel节点是否可到达
2)通知：Sentinel会将故障转移的结果通知给应用方。
3)主节点故障转移：实现从节点晋升为主节点并维护后续正确的主从关系。
4)配置提供者：在RedisSentinel结构中，客户端在初始化的时候连接的是Sentinel节点集合，从中获取主节点信息。
- Redis集群：
1)Key批量操作支持有限。目前只支持同slot内的key执行批量操作（如mget,mset）。
2)Key事务操作支持有限。只支持多key在同一个节点上的事务操作，多个key分布在不同节点上时无法使用事务功能。
3)Key作为数据分区的最小粒度，因此不能将一个大的键值对象如hash，list等映射到不同节点。
4)不支持多数据库空间，集群模式下只能使用db0空间。
5)复制结构只支持一层，从节点只能复制主节点，不支持嵌套树状复制结构。

3：晚上

- 索引的结构：1)二叉树
2)红黑树
3)Hash
4)B-Tree
5)B+Tree（MySQL索引的真正存储结构）
- 接口和抽象的区别：1)对接口的使用方式是通过关键字implements来实现的，而对于抽象类的操作是使用类继承的关键字extends实现的，使用时要注意。
2)接口没有数据成员，但是抽象类有数据成员，抽象类可以实现数据的封装。
3)接口没有构造函数，抽象类可以有构造函数。
4)接口的方法都是public类型，而抽象类中的方法可以使用private、protected或public来修饰。
5)一个类可以同时实现多个接口，但是只能实现一个抽象类。
- 静态方法内能调用非静态方法吗，同理反之：静态方法的内存分配时间与实例方法不同
当程序开始运行时,静态方法已经在内存中被分配了空间,有了入口地址,所以可以通过"类名.方法名"直接调用
而实例方法只有在创建了该类的对象以后才分配内存
也就是说程序开始运行后静态方法已经有了入口地址,而此时实例方法可能并未被分配内存,所以无法通过静态方法调用实例方法
同理也不能用"类名.方法名"的方式调用实例方法
- 框架差异：ThinkPHP(FCS)：是一个轻量级的中型框架，是从Java的Struts结构移植过来的中文PHP开发框架。它使用面向对象的开发结构和MVC模式，并且模拟实现了Struts的标签库，各方面都比较人性化，熟悉J2EE的开发人员相对比较容易上手，适合php框架初学者。ThinkPHP的宗旨是简化开发、提高效率、易于扩展，其在对数据库的支持方面已经包括MySQL、MSSQL、Sqlite、PgSQL、 Oracle，以及PDO的支持。ThinkPHP有着丰富的文档和示例，框架的兼容性较强，但是其功能有限，因此更适合用于中小项目的开发。优点：
1)借助成熟的Java思想
2)易于上手，有丰富的中文文档；学习成本低，社区活跃度高
3)框架的兼容性较强，PHP4和PHP5完全兼容、完全支持UTF8等。
4)适合用于中小项目的开发
5)从thinkphp3.2.2引入composer包管理工具
缺点:
1)对Ajax的支持不是很好；
2)目录结构混乱，相比其他框架目录结构要差一点；
3)上手容易，但是深入学习较难。
Yii：一个基于组件的高性能php框架，用于开发大型Web应用。Yii采用严格的OOP编写，并有着完善的库引用以及全面的教程。从 MVC，DAO/ActiveRecord，widgets，caching，等级式RBAC，Web服务，到主题化，I18N和L10N，Yii提供了 今日Web 2.0应用开发所需要的几乎一切功能。事实上，Yii是最有效率的PHP框架之一。优点：
1)纯OOP
2)用于大规模Web应用
3)模型使用方便
4)开发速度快，运行速度也快。性能优异且功能丰富
5)使用命令行工具。
6)支持composer包管理工具
缺点：
1)对Model层的指导和考虑较少
2)文档实例较少
3)英文太多
4)要求PHP技术精通，OOP编程要熟练！
5)View并不是理想view，理想中的view可能只是html代码，不会涉及PHP代码。
三、laravel
优点：
1)laravel的设计思想是很先进的，非常适合应用各种开发模式TDD, DDD和BDD
2)支持composer包管理工具
3)集合了php 比较新的特性，以及各种各样的设计模式，Ioc 容器，依赖注入等。
缺点：
1)基于组件式的框架，所以比较臃肿
- DAO：数据访问对象是第一个面相对象的接口
- I18N：国际化
- L10N：本地化
- ![](https://i.imgur.com/T154Ket.png)